{"doc_id": "crm::dev_docs::2024-01-01::examples-agentforce-agents-agentforce-developer-gu::62fd6b36", "company": "Salesforce", "doctype": "dev_docs", "title": "Examples | Agentforce Agents | Agentforce Developer Guide | Salesforce Developers", "publish_date": "", "url": "https://developer.salesforce.com/docs/einstein/genai/guide/agent-api-examples.html", "final_url": "https://developer.salesforce.com/docs/einstein/genai/guide/agent-api-examples.html", "source_domain": "salesforce.com", "section": "body", "topic": "Agentforce|Data Cloud", "persona_tags": ["general"], "language": "en", "text": "Examples | Agentforce Agents | Agentforce Developer Guide | Salesforce Developers\n\n \n\nAgent API Examples\n\nThis section provides examples using the Agent API endpoints. To onboard, see \nGet Started with Agent API\n.\n\nThe quickest way to get started with the Agent API is with our \nPostman collection\n. You can also review our \nvideo tutorial\n on Agent API setup and using the Postman collection.\n\nThis curl command creates a new agent session with the Agent API.\n\nThe \nbypassUser\n parameter indicates whether to use the agent-assigned user instead of the logged in user. If set to \ntrue\n, the API uses the user associated with the agent. If set to \nfalse\n, the API uses the user associated with the token.\n\nTo make this request, these values are required.\n\nAGENT_ID\n: The ID of the agent that you want to interact with. You can find this ID in the URL of the Agent Overview Page. When you select the agent from Setup, use the 18-character ID at the end of the URL. For example, when viewing this URL, \nhttps://mydomain.test1.my.pc-rnd.salesforce-setup.com/lightning/setup/EinsteinCopilot/0XxSB000000IPCr0AO/edit\n, the agent ID is \n0XxSB000000IPCr0AO\n.\n\nRANDOM_UUID\n: A random UUID value that you provide to represent the session key. You can use this parameter to trace the conversation in your agent’s event logs.\n\nACCESS_TOKEN\n: The token that you created in \nCreate a Token\n.\n\nMY_DOMAIN_URL\n: From Setup, search for \nMy Domain\n. Copy the value shown in the \nCurrent My Domain URL\n field.\n\nSpecify \napplication/json\n in the \nContent-Type\n header to indicate JSON content in the request.\n\nThis example shows a start session response. The response returns the session ID (\nsessionId\n) value, which is required when sending messages to an agent.\n\nFor API reference info, see \nStart Session\n.\n\nWhen you send a message by using the synchronous endpoint, the server sends back the response synchronously in one response. To use the streaming endpoint, see \nSend Streaming Messages\n.\n\nBefore sending messages, you must start a session. See \nStart Session\n.\n\nThis curl command sends a message to the synchronous endpoint.\n\nTo make this request, these values are required.\n\nSESSION_ID\n: The session ID found in the response payload when you created a session.\n\nACCESS_TOKEN\n: The token that you created in \nCreate a Token\n.\n\nSEQUENCE_ID\n: A number that you provide to represent the sequence ID. Increase this number for each subsequent message in this session.\n\nSpecify \napplication/json\n in the \nContent-Type\n header to indicate JSON content in the request.\n\nThis example shows a potential response to a synchronous send message request.\n\nFor API reference info, see \nSend Synchronous Messages\n.\n\nWhen you send a message using the streaming endpoint, the server sends back information using the server-sent event (SSE) protocol. To use the synchronous endpoint, see \nSend Synchronous Messages\n.\n\nBefore sending messages, you must start a session. See \nStart Session\n.\n\nThis curl command sends a message to the streaming endpoint.\n\nTo make this request, these values are required.\n\nSESSION_ID\n: The session ID found in the response payload when you created a session.\n\nACCESS_TOKEN\n: The token that you created in \nCreate a Token\n.\n\nSEQUENCE_ID\n: A number that you provide to represent the sequence ID. Increase this number for each subsequent message in this session.\n\nSpecify \napplication/json\n in the \nContent-Type\n header to indicate JSON content in the request.\n\nSpecify \ntext/event-stream\n in the \nAccept\n header so that the response contains the message stream.\n\nWhen you make a streaming request, messages return in the event stream.\n\nThis example shows a \nProgressIndicator\n event, which indicates that a response is in progress.\n\nThe message streams in text chunk increments. This example shows a \nTextChunk\n event.\n\nThe API returns the complete message in an \nInform\n event.\n\nThe API returns an \nEndOfTurn\n event when the response is complete.\n\nIf you receive a \nValidationFailureChunk\n streaming event, there was a failure validating the agent's response. Remove all previously rendered chunks and display only the new streamed content.\n\nFor API reference info, see \nSend Streaming Messages\n.\n\nFor an example using agent variables, see \nSend Agent Variables with the Agent API\n.\n\nSome message responses include cited sources. Cited sources surface in the \ncitedReferences\n array of an \nInform\n response message. Citations can either appear as sources at the bottom of the response, or inline citations (using the \ninlineMetadata\n object) that are associated with a specific location in the response.\n\nFor API reference info, see \nInformMessage\n and \nCitedReference\n.\n\nThis curl command sends an end session request.\n\nTo make this request, these values are required.\n\nSESSION_ID\n: The session ID found in the response payload when you created a session.\n\nACCESS_TOKEN\n: The token that you created in \nCreate a Token\n.\n\nThis example shows a response to an end message request.\n\nFor API reference info, see \nEnd Session\n.\n\nYou can also submit feedback to the org based on the agent’s responses. This feedback is stored in Data Cloud. To learn more, see \nGenerative AI Audit and Feedback Data\n.\n\nTo make this request, these values are required.\n\nSESSION_ID\n: The session ID found in the response payload when you created a session.\n\nACCESS_TOKEN\n: The token that you created in \nCreate a Token\n.\n\nSpecify \napplication/json\n in the \nContent-Type\n header to indicate JSON content in the request.\n\nIf the feedback was received, you get an HTTP 201 response.\n\nFor API reference info, see \nSubmit Feedback\n.\n\nGet Started with Agent API\n\nSend Agent Variables with the Agent API\n\nAgent API Video Tutorial\n\nAgent API Postman Collection\n\nSend Agent Variables with the Agent API\n\nAgent API Session Lifecycle\n\nAgent API Considerations\n\nAgent API Troubleshooting\n\nAgent API Reference\n\nDeveloper Relations YouTube Video\n: \nIntegrate Agentforce with Microsoft Teams", "word_count": 947, "token_count": 1266, "ingestion_ts": "2025-09-07T04:08:47.956564", "hash_sha256": "64fa37b5a3de5c5b89c53ca0c299a1745163d602e2f6584084960301fa525628", "html_title": "", "meta_published_time": "", "last_modified_http": "", "full_domain": "developer.salesforce.com", "publish_date_provenance": "missing", "publish_date_confidence": 0.0, "was_fallback_today": false}